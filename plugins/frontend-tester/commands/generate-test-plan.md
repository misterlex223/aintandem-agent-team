---
description: æ ¹æ“š PRD è‡ªå‹•ç”Ÿæˆæ¸¬è©¦è¨ˆåŠƒå’Œå¯åŸ·è¡Œçš„æ¸¬è©¦è¦æ ¼æ–‡ä»¶
argument-hint: [--mode=feature|full] [--version=X.Y.Z] [prd-path]
allowed-tools: ["Read", "Write", "Edit", "Bash", "Grep", "Glob", "AskUserQuestion"]
---

# /generate-test-plan - ç”Ÿæˆæ¸¬è©¦è¨ˆåŠƒ

æ ¹æ“šæŒ‡å®šçš„ç”¢å“éœ€æ±‚æ–‡ä»¶ (PRD) è‡ªå‹•ç”Ÿæˆæ¸¬è©¦è¨ˆåŠƒã€‚

## ç”¨æ³•

```
/generate-test-plan [--mode=feature|full] [--version=X.Y.Z] [prd-path]
```

## åƒæ•¸

| åƒæ•¸ | èªªæ˜ | é è¨­å€¼ |
|------|------|--------|
| `--mode` | `feature` - åŠŸèƒ½é©—æ”¶æ¨¡å¼ï¼ˆé‡å°æœªå®ŒæˆåŠŸèƒ½ï¼‰<br>`full` - å®Œæ•´æ¸¬è©¦æ¨¡å¼ï¼ˆæ•´å€‹ç‰ˆæœ¬ï¼‰ | `feature` |
| `--version` | ç‰ˆæœ¬è™Ÿï¼ˆfull æ¨¡å¼å¿…å¡«ï¼‰ | å¾ PRD è®€å– |
| `prd-path` | PRD æ–‡ä»¶è·¯å¾‘ | `docs/PRD.md` |

## åŸ·è¡Œæ­¥é©Ÿ

### 1. é©—è­‰èˆ‡è®€å– PRD

```
æª¢æŸ¥ PRD æ–‡ä»¶æ˜¯å¦å­˜åœ¨
è®€å– PRD å…§å®¹
è§£æç‰ˆæœ¬è³‡è¨Š
```

å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼š
```
âŒ éŒ¯èª¤: æ‰¾ä¸åˆ° PRD æ–‡ä»¶ @$1

æç¤º:
- ç¢ºèªæª”æ¡ˆè·¯å¾‘æ­£ç¢º
- é è¨­è·¯å¾‘ç‚º docs/PRD.md
```

### 2. è§£æåŠŸèƒ½åˆ—è¡¨

æ ¹æ“šæ¨¡å¼è§£æåŠŸèƒ½ï¼š

**feature æ¨¡å¼**ï¼š
- æƒæ PRD ä¸­çš„ checkbox ç‹€æ…‹
- æå–æœªå®Œæˆçš„åŠŸèƒ½å€å¡Š
- è­˜åˆ¥ ğŸ†• æ–°å¢åŠŸèƒ½æ¨™è¨˜

**full æ¨¡å¼**ï¼š
- æå–æ‰€æœ‰åŠŸèƒ½å€å¡Š
- åŒ…å«å·²å®Œæˆå’Œæœªå®Œæˆçš„åŠŸèƒ½
- ç”¨æ–¼ç™¼å¸ƒå‰å®Œæ•´é©—æ”¶

### 3. ç”Ÿæˆæ¸¬è©¦è¨ˆåŠƒæ–‡ä»¶

ç”Ÿæˆç­–ç•¥å±¤ç´šæ¸¬è©¦è¨ˆåŠƒï¼š

```
ğŸ“„ æ¸¬è©¦è¨ˆåŠƒ: docs/test-plans/TP-[version]-[mode]-[date].md
```

æ¸¬è©¦è¨ˆåŠƒåŒ…å«ï¼š
- æ¸¬è©¦ç¯„åœï¼ˆåŠŸèƒ½æ¸…å–®ï¼‰
- æ¸¬è©¦ç­–ç•¥ï¼ˆE2Eã€APIã€äººå·¥æª¢æŸ¥ï¼‰
- æ¸¬è©¦æ’ç¨‹
- é€šéæ¨™æº–
- é¢¨éšªè©•ä¼°

### 4. ç”Ÿæˆå¯åŸ·è¡Œè¦æ ¼æ–‡ä»¶

ç‚ºæ¯å€‹åŠŸèƒ½ç”Ÿæˆ spec æ–‡ä»¶ï¼š

```
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/[feature-name]-spec.md
```

ä½¿ç”¨ `spec-template.md` ä½œç‚ºç¯„æœ¬ï¼Œå¡«å……ï¼š
- åŠŸèƒ½åç¨±ã€æè¿°
- ç”¨æˆ¶æ•…äº‹
- æ¸¬è©¦å ´æ™¯ï¼ˆè‡ªå‹•åŒ– + äººå·¥ï¼‰
- UI/UX é©—æ”¶æ¨™æº–
- éŒ¯èª¤è™•ç†
- æ•ˆèƒ½è¦æ±‚

### 5. å»ºç«‹æ¸¬è©¦ä»»å‹™æ¸…å–®

ä½¿ç”¨ TodoWrite å»ºç«‹ä»»å‹™ï¼š

```
âœ… è§£æ PRD: docs/PRD.md
âœ… ç”Ÿæˆæ¸¬è©¦è¨ˆåŠƒ: docs/test-plans/TP-0.7.0-feature-2026-01-28.md
â³ ç”Ÿæˆè¦æ ¼æ–‡ä»¶ (N å€‹åŠŸèƒ½)
â³ ç­‰å¾…æ¸¬è©¦åŸ·è¡Œ
```

## ç¯„ä¾‹

### ç¯„ä¾‹ 1: åŠŸèƒ½é©—æ”¶æ¨¡å¼

```
/generate-test-plan --mode=feature
```

è¼¸å‡ºï¼š
```
âœ… è§£æ PRD: docs/PRD.md
ğŸ“‹ ç™¼ç¾ 2 å€‹æœªå®ŒæˆåŠŸèƒ½:
   - 2.8 æ‰¹æ¬¡ä¸Šå‚³å¤šå¼µåœ–ç‰‡
   - 2.9 åœ–ç‰‡è£å‰ªç·¨è¼¯

ğŸ“„ æ¸¬è©¦è¨ˆåŠƒ: docs/test-plans/TP-feature-2026-01-28.md
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/batch-upload-spec.md
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/image-crop-spec.md

ğŸ’¡ ä¸‹ä¸€æ­¥:
- ç·¨è¼¯è¦æ ¼æ–‡ä»¶ï¼ˆå¦‚éœ€èª¿æ•´ï¼‰
- åŸ·è¡Œ /run-acceptance --mode=feature --target=2.8
```

### ç¯„ä¾‹ 2: å®Œæ•´æ¸¬è©¦æ¨¡å¼

```
/generate-test-plan --mode=full --version=0.7.0
```

è¼¸å‡ºï¼š
```
âœ… è§£æ PRD: docs/PRD.md
ğŸ“‹ ç‰ˆæœ¬ 0.7.0 åŒ…å« 5 å€‹åŠŸèƒ½:
   - 2.7 ä½¿ç”¨è€…è¨­å®š (å·²å®Œæˆ)
   - 2.8 æ‰¹æ¬¡ä¸Šå‚³å¤šå¼µåœ–ç‰‡ (å·²å®Œæˆ)
   - 2.9 åœ–ç‰‡è£å‰ªç·¨è¼¯ (æœªå®Œæˆ)
   - ...

ğŸ“„ æ¸¬è©¦è¨ˆåŠƒ: docs/test-plans/TP-0.7.0-full-2026-01-28.md
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/user-preferences-spec.md
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/batch-upload-spec.md
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/image-crop-spec.md

ğŸ’¡ ä¸‹ä¸€æ­¥:
- åŸ·è¡Œ /run-acceptance --mode=full
```

### ç¯„ä¾‹ 3: æŒ‡å®šåŠŸèƒ½å€å¡Š

```
/generate-test-plan --mode=feature --target=2.8
```

è¼¸å‡ºï¼š
```
âœ… è§£æ PRD: docs/PRD.md
ğŸ“‹ åŠŸèƒ½ 2.8: æ‰¹æ¬¡ä¸Šå‚³å¤šå¼µåœ–ç‰‡

ğŸ“„ æ¸¬è©¦è¨ˆåŠƒ: docs/test-plans/TP-2.8-feature-2026-01-28.md
âœ… è¦æ ¼æ–‡ä»¶: docs/specs/batch-upload-spec.md

ğŸ’¡ ä¸‹ä¸€æ­¥:
- åŸ·è¡Œ /run-acceptance --mode=feature --target=2.8
```

## PRD è§£æè¦å‰‡

### Checkbox ç‹€æ…‹è­˜åˆ¥

```markdown
- [x] åŠŸèƒ½å·²å®Œæˆ â†’ status: completed
- [ ] åŠŸèƒ½æœªå®Œæˆ â†’ status: pending
```

### æ–°å¢åŠŸèƒ½è­˜åˆ¥

```markdown
ğŸ†• æ–°å¢åŠŸèƒ½ â†’ æ¨™è¨˜ç‚º new
```

### åŠŸèƒ½å€å¡Šè­˜åˆ¥

è­˜åˆ¥ PRD ä¸­çš„åŠŸèƒ½å€å¡Šæ¨™é¡Œï¼š
```
## 2.8 æ‰¹æ¬¡ä¸Šå‚³å¤šå¼µåœ–ç‰‡
### 2.8.1 åŠŸèƒ½æè¿°
...
```

## éŒ¯èª¤è™•ç†

| éŒ¯èª¤ | è™•ç†æ–¹å¼ |
|------|---------|
| PRD æ–‡ä»¶ä¸å­˜åœ¨ | é¡¯ç¤ºéŒ¯èª¤ä¸¦æç¤ºè·¯å¾‘ |
| PRD æ ¼å¼éŒ¯èª¤ | æŒ‡å‡ºéŒ¯èª¤ä½ç½®ä¸¦å»ºè­°ä¿®æ­£ |
| ç„¡æœªå®ŒæˆåŠŸèƒ½ | æç¤ºæ‰€æœ‰åŠŸèƒ½å·²å®Œæˆï¼Œå»ºè­°ä½¿ç”¨ full æ¨¡å¼ |
| full æ¨¡å¼ç¼ºå°‘ç‰ˆæœ¬ | è¦æ±‚æä¾› --version åƒæ•¸ |
| è¼¸å‡ºç›®éŒ„ä¸å­˜åœ¨ | è‡ªå‹•å»ºç«‹ docs/test-plans/ å’Œ docs/specs/ |

## è¼¸å‡ºæª”æ¡ˆ

| æª”æ¡ˆ | èªªæ˜ |
|------|------|
| `docs/test-plans/TP-[version]-[mode]-[date].md` | æ¸¬è©¦è¨ˆåŠƒï¼ˆç­–ç•¥å±¤ç´šï¼‰ |
| `docs/specs/[feature]-spec.md` | å¯åŸ·è¡Œæ¸¬è©¦è¦æ ¼ |
| `docs/test-reports/test-report-[date].md` | æ¸¬è©¦å ±å‘Šï¼ˆåŸ·è¡Œå¾Œç”Ÿæˆï¼‰ |

## ç›¸é—œå‘½ä»¤

- `/run-acceptance` - åŸ·è¡Œé©—æ”¶æ¸¬è©¦
- `/test-spec <file>` - æ ¹æ“šè¦æ ¼åŸ·è¡Œæ¸¬è©¦
- `/test-spec-template [path]` - ç”¢ç”Ÿè¦æ ¼ç¯„æœ¬
